<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="{{ static_base }}/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ static_base }}/static/css/gmaps.css" rel="stylesheet">
    <link href="{{ static_base }}/static/css/jquery-ui.css" rel="stylesheet">
    <script>
      var BASE_PATH = "{{base_path}}";
      var STATIC_BASE = "{{static_base}}";
      var ASYNC = {{"true" if async else "false"}};
      var PROPERTIES = {{ properties_json }};
    </script>
    <script src="{{ static_base }}/static/js/jquery.min.js"></script>
    <script src="{{ static_base }}/static/js/bootstrap.min.js"></script>
    <script src="{{ static_base }}/static/js/gpx.js"></script>
    <script src="{{ static_base }}/static/js/jquery-ui.js"></script>
    <script src="{{ static_base }}/static/js/jquery.tablesorter.js"></script>
    <script src="{{ static_base }}/static/js/map-stuff.js"></script>
    <script src="{{ static_base }}/static/js/popper.min.js"></script>
    <script src="{{ static_base }}/static/js/report.js"></script>

    <link href="https://fonts.googleapis.com/css?family=Cousine" rel="stylesheet">
    <!-- I think Cousine is what I'll want to stick with, but I'm keeping these guys around to make it easier to switch if I decide to. -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Overpass Mono" rel="stylesheet"> -->
    <!-- <link href="https://fonts.googleapis.com/css?family=Source Code Pro" rel="stylesheet"> -->
  </head>

  <body class="bg-light">

    <header>
    </header>

    <main role="main" class="container">

      <p>
        <div id="sliders1" style="width:80%;">
          <span style="width:30%"><label for="price-amount">Price ($): </label><input type="text" id="price-amount" readonly style="border:0; color:#f6931f; font-weight:bold;"></span>
          <div id="price-slider-range" style="width:50%; float:right"></div>
        </div>
        <div id="sliders2" style="width:80%;">
          <span style="width:30%"><label for="size-amount">Lot size (acres): </label><input type="text" id="size-amount" readonly style="border:0; color:#f6931f; font-weight:bold;"></span>
          <div id="size-slider-range" style="width:50%; float:right"></div>
        </div>
        <div id="sliders3" style="width:80%;">
          <span style="width:30%"><label for="distance-amount">Distance from MCV (km): </label><input type="text" id="distance-amount" readonly style="border:0; color:#f6931f; font-weight:bold;"></span>
          <div id="distance-slider-range" style="width:50%; float:right"></div>
        </div>
        <div id="sliders4" style="width:80%;">
          <span style="width:30%"><label for="ppa-amount">Price per acre ($/acre): </label><input type="text" id="ppa-amount" readonly style="border:0; color:#f6931f; font-weight:bold;"></span>
          <div id="ppa-slider-range" style="width:50%; float:right"></div>
        </div>
          <span style="width:30%"><label for="matchingCount">Number found: </label><input type="text" id="matchingCount" readonly style="border:0; color:#f6931f; font-weight:bold;"></span>
      </p>


      <!-- <p> -->
      <!--   <span style="width:30%"><label for="price-amount">Price range:</label><input type="text" id="price-amount" readonly style="border:0; color:#f6931f; font-weight:bold;"></span> -->
      <!--   <div id="price-slider-range" style="width:50%;float:none"></div> -->
      <!-- </p> -->
      <!-- <br> -->
      <!-- <p> -->
      <!--   <span style="float:left"><label for="size-amount">Size range:</label><input type="text" id="size-amount" readonly style="border:0; color:#f6931f; font-weight:bold;"></span> -->
      <!--   <div id="size-slider-range" style="width:50%;"></div> -->
      <!-- </p> -->

      <div class="py-5 text-center">
        <h2>Properties:</h2>
        <table id="propertiesTable" class="table table-striped table-bordered tablesorter">
          <thead>
            <tr data-header="1">
              <th scope="col">Address</th>
              <th scope="col">Price</th>
              <th scope="col">Acres</th>
              <th scope="col">$/acre</th>
              <th scope="col">Type</th>
              <th scope="col">Dist</th>
              <th scope="col">Links</th>
              <th scope="col">Photo (click to load)</th>
            </tr>
          </thead>
          <tbody id="propertiesTableBody">
            {% for prop in properties %}
            <tr data-header="0" data-price="{{ prop['price']}}" data-distance="{{ prop['mcv_distance_km']}}" data-size="{{ prop['lotSize_acres'] }}" data-ppa="{{ prop['price_per_acre'] }}">
              <td>{{ prop["streetAddress"] }}, {{ prop["city"] }}, {{ prop["zipcode"] }}</td>
              <td>${{ prop["price"]}}</td>
              <td>{{ prop["lotSize_acres"] | round}} acres</td>
              <td>${{ prop["price_per_acre"] | round}}/acre</td>
              <td>{{ prop["homeType"]}}</td>
              <td>{{ prop["mcv_distance_km"] | round}} km</td>
              <td scope="row"><a href="{{prop['zillow_url']}}">Zillow</a></td>
              <td scope="row">
                <a href="https://www.google.com/maps/dir/{{prop['streetAddress']}}, {{prop['city']}}, {{prop['state']}}/MCV+Campus+Virginia+Commonwealth+University,+Virginia+Commonwealth+University+Richmond,,+Virginia,+Richmond,+VA+23284">[MCV]</a>
                <a href="https://www.google.com/maps/dir/{{prop['streetAddress']}}, {{prop['city']}}, {{prop['state']}}/Amazon+Web+Services,+Worldgate+Drive,+Herndon,+VA">[IAD]</a>
              </td>
              <td scope="row"><image id="{{prop['zpid']}}-img" onclick="javascript:loadImage('{{prop['zpid']}}-img');" data-url="{{prop['photo']}}" src="{{ static_base }}/static/placeholder_house.png" width="200"/></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

    </main>

    <footer class="footer">
      <div class="container">
        <span class="text-muted">A creation of Drunken Robot Labs.</span>
      </div>
    </footer>
    <!-- Bootstrap core JavaScript
     ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  </body>
</html>
